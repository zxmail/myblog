<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>{{& OPT.siteName}}</title>
		<meta name="description" content="{{& OPT.siteDescription}}">
		<meta name="keywords" content="{{& OPT.keyWords}}">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="{{& OPT.theme_github_path}}JustNews/files/style.css">
		<link rel="stylesheet" href="{{& OPT.theme_github_path}}JustNews/files/noto+serif.css">
		<link rel="stylesheet" href="{{& OPT.theme_github_path}}JustNews/files/fonts/fontawesome5pro-all.min.css">
		<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml">
		<link rel="shortcut icon" href="{{& OPT.theme_github_path}}JustNews/files/logo2.png" type="image/x-icon">
		{{& OPT.codeBeforHead}}
	</head>
	<body>
		{{& OPT.codeBeforBody}}
		<div class="main">
			<header class="site-header">
				<div class="header-container">
					<div class="header-left">
						<div class="logo-area">
							{{ #OPT.logo }}
							<img src="{{ &OPT.logo }}" alt="博客Logo" class="logo-image">
							{{ /OPT.logo }}
							<a href="/" class="blog-name">{{ &OPT.siteName }}</a>
						</div>
						<nav class="main-nav">
							<ul>
								{{ #OPT.widgetMenuList }}
								<li class="{{ #hasChildren }}has-children{{ /hasChildren }}">
									<a href="{{ &url }}">
										{{ #icon }}<i class="{{ &icon }}"></i> {{ /icon}}{{ &name }}
									</a>
									{{ #children.length }}
									<ul class="sub-menu">
										{{ #children }}
										<li class="{{ #hasChildren }}has-children{{ /hasChildren }}">
											<a href="{{ &url }}">
												{{ #icon }}<i class="{{ &icon }}"></i> {{ /icon}}{{ &name }}
											</a>
											{{ #children.length }}
											<ul class="sub-menu">
												{{ #children }}
												<li>
													<a href="{{ &url }}">
														{{ #icon }}<i class="{{ &icon }}"></i> {{ /icon}}{{ &name }}
													</a>
												</li>
												{{ /children }}
											</ul>
											{{ /children.length }}
										</li>
										{{ /children }}
									</ul>
									{{ /children.length }}
								</li>
								{{ /OPT.widgetMenuList }}
							</ul>
						</nav>
					</div>
					<div class="header-right">
						<div class="search-icon" id="search-toggle">
							<i class="fas fa-search"></i>
						</div>
						<a href="/admin" class="login-link">
							<i class="fas fa-user-circle"></i>
						</a>
					</div>
				</div>
				<div class="search-box-container" id="search-box">
					<input type="text" placeholder="输入关键词搜索..." class="search-input">
					<button class="search-button">搜索</button>
				</div>
			</header>
			<div class="wrapper">
				<div class="content">
					{{#is_single}}
						<div class="card">
							<div class="card-header">
								<h1>{{&title}}</h1>
								<div class="card-meta">
									<span><i class="fas fa-calendar-alt"></i>{{&createDate10}}</span>
									<span><i class="fas fa-user"></i><a href="#">admin</a></span>
									<span><i class="fas fa-book-reader"></i><a href="#">{{&views}}</a></span>
									<span>
										<i class="fas fa-th-large"></i>
										{{#categories}}
											<a href="/category/{{&name}}/">{{&name}}</a>
										{{/categories}}
									</span>
								</div>
							</div>
							<div class="card-body">
								<div class="card-content">
									{{&content}}
								</div>
								<div class="card-tags">
									{{#tags}}
										<a href="/tags/{{&.}}/">{{&.}}</a>
									{{/tags}}
								</div>
							</div>
						</div>
						<div class="near-card">
							{{#articleOlder}}
								<a href="{{&url}}" class="card-older">
									<i class="fas fa-arrow-left"></i>
									<span>{{&title}}</span>
								</a>
							{{/articleOlder}}
							{{^articleOlder}}
								<div class="card-older-none">
									<i class="fas fa-arrow-left"></i>
									<span>没有了</span>
								</div>
							{{/articleOlder}}
							{{#articleNewer}}
								<a href="{{&url}}" class="card-newer">
									<span>{{&title}}</span>
									<i class="fas fa-arrow-right"></i>
								</a>
							{{/articleNewer}}
							{{^articleNewer}}
								<div class="card-newer-none">
									<span>没有了</span>
									<i class="fas fa-arrow-right"></i>
								</div>
							{{/articleNewer}}
						</div>
						<div class="comment">
							{{&OPT.commentCode}}
						</div>
					{{/is_single}}
					{{^is_single}}
						{{#articleList}}
							<div class="card">
								<div class="card-head">
									<a href="{{&url}}"><img src="{{#img}}{{&img}}{{/img}}{{^img}}{{#firstImageUrl}}{{&firstImageUrl}}{{/firstImageUrl}}{{^firstImageUrl}}{{{&OPT.theme_github_path}}}JustNews/files/logo2.png{{/firstImageUrl}}{{/img}}"></a>
								</div>
								<div class="card-body">
									<h2><a href="{{&url}}">{{&title}}</a></h2>
									<div class="card-meta">
										<span><i class="fas fa-calendar-alt"></i>{{&createDate10}}</span>
										<span><i class="fas fa-user"></i><a href="#">admin</a></span>
										<span><i class="fas fa-book-reader"></i><a href="#">{{&views}}</a></span>
										<span><i class="fas fa-th-large"></i><a href="/category/{{&firstCategory}}/">{{&firstCategory}}</a></span>
									</div>
									<div class="card-text">
										{{&contentText}}
									</div>
								</div>
							</div>
						{{/articleList}}
						<div class="near-card">
							{{#pageOlder}}
								<a href="{{&url}}" class="card-older">
									<i class="fas fa-arrow-left"></i>
									<span>上一页</span>
								</a>
							{{/pageOlder}}
							{{^pageOlder}}
								<div class="card-older-none">
									<i class="fas fa-arrow-left"></i>
									<span>没有了</span>
								</div>
							{{/pageOlder}}
							{{#pageNewer}}
								<a href="{{&url}}" class="card-newer">
									<span>下一页</span>
									<i class="fas fa-arrow-right"></i>
								</a>
							{{/pageNewer}}
							{{^pageNewer}}
								<div class="card-newer-none">
									<span>没有了</span>
									<i class="fas fa-arrow-right"></i>
								</div>
							{{/pageNewer}}
						</div>
					{{/is_single}}
				</div>
				<div class="sidebar">
					<div class="card">
						<div class="card-header">
							<h3><i class="fas fa-bars"></i>分类</h3>
						</div>
						<div class="card-body">
							<div class="card-ul">
								<ul>
									{{#widgetCategoryList}}
									<li>
										<a href="/category/{{&name}}/">
											<span><i class="{{&icon}}"></i>{{&name}}</span>
											<span>{{&count}}</span>
										</a>
									</li>
									{{/widgetCategoryList}}
								</ul>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-header">
							<h3><i class="fas fa-fire-alt"></i>最近文章</h3>
						</div>
						<div class="card-body">
							<div class="card-ul">
								<ul>
									{{#widgetRecentlyList}}
									<li>
										<a href="{{&url}}">
											<div class="recently-img">
												<img src="{{#img}}{{&img}}{{/img}}{{^img}}{{#firstImageUrl}}{{&firstImageUrl}}{{/firstImageUrl}}{{^firstImageUrl}}{{{&OPT.theme_github_path}}}JustNews/files/logo2.png{{/firstImageUrl}}{{/img}}">
											</div>
											<div class="recently-text">
												<div class="recently-title">{{&title}}</div>
												<div class="recently-time">{{&createDate10}}</div>
											</div>
										</a>
									</li>
									{{/widgetRecentlyList}}
								</ul>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-header">
							<h3><i class="fas fa-link"></i>友情链接</h3>
						</div>
						<div class="card-body">
							<div class="card-ul">
								<ul>
									{{#widgetLinkList}}
									<li>
										<a href="{{&url}}">
											<span><i class="{{&icon}}"></i>{{&name}}</span>
										</a>
									</li>
									{{/widgetLinkList}}
								</ul>
							</div>
						</div>
					</div>
					{{&OPT.widgetOther}}
				</div>
			</div>
			<footer>
				{{&OPT.copyRight}}
			</footer>
		</div>
		<script>
			// 搜索框控制脚本
			document.addEventListener('DOMContentLoaded', function() {
				const searchToggle = document.getElementById('search-toggle');
				const searchBox = document.getElementById('search-box');
		
				if (searchToggle && searchBox) {
					searchToggle.addEventListener('click', function(event) {
						event.stopPropagation();
						searchBox.classList.toggle('visible');
					});
					
					searchBox.addEventListener('click', function(event) {
						event.stopPropagation();
					});
				}
		
				document.addEventListener('click', function() {
					if (searchBox && searchBox.classList.contains('visible')) {
						searchBox.classList.remove('visible');
					}
				});
			});
		</script>
	</body>
</html>
